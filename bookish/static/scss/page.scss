//@import '_flexbox';
@import '_variables';
@import '_common';
@import '_grid';

/* Basics */

a.missing {
    text-decoration: none;
    border-bottom: 1px dashed red;
}

body.error {
}
body.error .errno {
    opacity: 0.1;
    font-size: 300%;
    font-weight: 100;
}

.drop-cap {
    display: block;
    position: relative;
    float: left;
    font-weight: 700;
    font-size: 3.25em;
    margin-top: 0.75rem;
    margin-right: 0.5rem;
}

/* Main content */

#content {
	position: relative;
    //margin-left: $left-rail-width;
    padding-bottom: 33vh;
}


/* Links */

.linkicon {
    display: none;
    margin-right: 0.5em;
    vertical-align: middle;
}

a.wp > .fa.fa-wikipedia-w {
    vertical-align: super; font-size: 0.714em;
}


/* Title block */


.title-block {
    position: relative;
}

.parents {
    color: $medium-color;
    margin: 0;

    .divider {
        margin: 0 0.5em;
    }
}

// Title
h1.title {
    font-size: 2rem;
    color: $title-color;
    font-weight: 300;
    margin: 0 0 0 0; padding: 0;
    line-height: normal;

    .subtitle, .supertitle {
        font-weight: 100;
        color: $medium-color;
        font-size: 1.5rem;
    }
}
h1.title.ni, h1.title.nd {
    text-decoration: line-through;
}


// Version number inside title
h1.title .version {
    vertical-align: super;
    font-size: 0.786rem;
    font-weight: 600;
    background-color: $tag-bg;
    color: $tag-fg;
    padding: 0.1em 0.4em;
    border-radius: 0.4em;
}

p.summary {
    font-style: italic;
    font-weight: 300;
}

// No title
body.notitle .title-block {
    display: none;
}

// Icon in title
h1.title .icon {
    padding-right: 0.5rem;
    vertical-align: middle;
    width: 2rem; height: 2rem;
}

/* Headings */

section {
    clear: left;
    margin: 2em 0;
}
section:first-child {
    margin-top: 0;
}
section > .content {
    & > :first-child, & > .row:first-child > .col > :first-child  {
        margin-top: 0;
    }
    & > :last-child, & > .row:last-child > .col > :last-child {
        margin-bottom: 0;
    }
}
section.notitle > h2 {display: none;
}

h2.heading, h3.heading, h4.heading, h5.heading {
    clear: left;
    margin: 0 0 1.2em 0;
    color: $heading-color;
}

h2.heading {
    font-size: 1.5em;
    font-weight: 600;
}
h3.heading {
    font-size: 1.25em;
    font-weight: 500;
}
h4.heading {
    font-size: 1.1em;
    font-weight: 600;
}
h5.heading {
    font-size: 1em;
    font-weight: 500;
}
h6.heading {
    font-size: 1em;
    font-weight: 500;
}

// Pull left and pull right headings
section.pull.heading {
    clear: both;
    position: relative;

    & > .label  {
        position: absolute;
        left: 0;
        font-size: 1rem;
        font-weight: 200;
        width: $left-rail-width;
        margin: 0; padding: 0;
    }

    &.left {
        margin-left: $left-rail-width;

        & > .label {
            margin-left: -$left-rail-width;
            padding-right: 1rem;
        }
    }
}

section.tiny.heading {
    font-size: 0.875em;
    margin-bottom: 0;
}

/* Sections */

// General section look
section.section {
    border-top: 1px solid $border-gray;
}
section.section.notitle {
    border-top: none;
}

h2.section {
    margin: 0 0 1em 0;
    font-weight: normal;
    font-size: 1rem;
    color: $section-color;
    text-transform: uppercase;
}

// Methods
.superclass-methods {
    margin-top: 1em;
    border-top: 1px dashed #99c;
    padding-top: 1em;
}

/* Styles */

strong.ui {
    font-weight: 600;
}

var {
    border-bottom: 1px dotted $border-light-gray;
    font-style: italic;
    color: $medium-color;
}

.keys {
    white-space: nowrap;
}
kbd {
    font-family: inherit;
    background-color: #f7f7f7;
    border: 1px solid #ccc;
    color: #333;
    font-size: 11px;
    line-height: 1.4;
    text-shadow: 0 1px 0 #fff;
    display: inline-block;
    padding: 0.1em 0.6em;
    margin: 0 0.1em;
    white-space: nowrap;
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px #fff inset;
    border-radius: 3px
}

/* Icons */

img.keyicon {
    width: 1.5em; height: 1.5em;
    vertical-align: middle;
}

img.icon {
    vertical-align: middle;
}
img.icon.small {
    width: 1.1429em; height: 1.1429em;
}
img.icon.medium {
    width: 2em; height: 1.5em;
}
img.icon.large {
    width: 3em; height: 3em;
}

/* Images */

.img-responsive {
    max-width: 100%;
}

.fig {
}
figure {
    margin: 1em 0; padding: 0;
}
.xlarge, .large, .medium, .small {
    .fig > * {
        display: inline-block;
        vertical-align: top;
    }
    .fig > .figure-body {
        padding-right: 1em;
    }
}
.small .fig {
    & > .figure-body { width: 50%; }
    & > .figure-img { width: 50%; }
}
.medium .fig {
    & > .figure-body { width: 60%; }
    & > .figure-img { width: 40%; }
}
.large .fig {
    & > .figure-body { width: 70%; }
    & > .figure-img { width: 30%; }
}
.xlarge .fig {
    & > .figure-body { width: 80%; }
    & > .figure-img { width: 20%; }
}

figure.unzoomed {
    position: static;
    cursor: -webkit-zoom-in;  cursor: zoom-in;
}

#lightbox {
    position: absolute; left: 0; width: 100%;
    z-index: 10;
    cursor: -webkit-zoom-out;  cursor: zoom-out;
    padding: 25px;
    background-color: rgba(0,0,0,0.75);
    text-align: center;
}
#lightbox img {
    box-shadow: 0 0 25px black;
    max-width: 100%;
}

/* Tables */

table.tasks {
    width: 100%;
    border: none;
}
td.task-desc, td.task-howto {
    border: none;
    border-top: 1px solid white;
    border-bottom: 1px solid white;
}
td.task-desc {
    background-color: rgba(0, 0, 0, 0.05);
    width: 33%;
}
td.task-howto {
    background-color: rgba(0, 0, 0, 0.02);
}td.task-desc {
    background-color: rgba(0, 0, 0, 0.05);
    width: 33%;
}
td.task-howto {
    background-color: rgba(0, 0, 0, 0.02);
}

/* Positioning and grouping */

.g {
    float: left;
    width: 1.5em;
    color: rgba(0, 0, 0, 0.75);
}
.inverted.g, .inverted .g {
    color: rgba(255, 255, 255, 0.75);
}

/* Lists */

ul.bullets {
}
li.bullet {
    list-style: disc;
}
li.bullet > *:nth-child(2) {
    margin-top: 0;
}

li.bullet.glyphed {
    list-style: none;
}
li.bullet > .g {
    margin: 0 0 0 -1.75em;
}

/* Definition lists */

.def {
    margin: 1em 0;

    & > .label {
        font-weight: 600;
        margin-top: 0;

        &.withglyph {
            margin-left: 2em;
        }
    }
    & > .content {
        margin-left: 2em;
    }

    &.compact > .label {
        float: left;
        clear: left;
    }
}

//.sizing:not(.xsmall) {
//    .def {
//        display: table-row;
//
//        & > .label {
//            display: table-cell;
//            min-width: $left-rail-width;
//            vertical-align: top;
//            padding: 0.5em 0;
//        }
//        & > .content {
//            display: table-cell;
//            width: calc(100% - #{$left-rail-width});
//            vertical-align: top;
//            padding: 0.5em 0 0.5em 1em;
//        }
//
//        &:first-child {
//            & > .label, & > .content {
//                padding-top: 0;
//            }
//        }
//        &:last-child {
//            & > .label, & > .content {
//                padding-bottom: 0;
//            }
//        }
//    }
//
//    .def.collapsed > .label {
//        width: 100%;
//    }
//}
//
//.xsmall {
//    .def {
//        display: block;
//
//        & > .label {
//            display: block;
//            width: 100%;
//            padding: 0;
//        }
//        & > .content {
//            display: block;
//            margin-left: 2em;
//            padding: 0;
//        }
//    }
//}

.def > .label code {
    background-color: transparent;
}


/* Boxes */

.box {
    margin: 1em 0;

    // Captioned box
    & > .label {
        margin: 0;
        color: $accent-color;
        font-size: 0.875em;
    }
}
.content > :first-child {
    margin-top: 0;
}
.content > :last-child {
    margin-bottom: 0;
}

/* Items */

li.item {
    margin-left: 1.5rem;
    list-style: none;
    clear: left;
}
li.item:before {
    float: left;
    margin-left: -1.5rem;
    font-family: "FontAwesome";
    content: "\f111"; // circle
    font-size: 0.857rem;
    opacity: 0.5;
}

li.item:not(.collapsible):before {

}
li.item > .content {
    margin-left: 2em;
}

span.summary {
    display: inline-block;
    font-size: 0.875rem;
    color: #999;
    margin-left: 1rem;
    font-weight: normal;
}

/* Parameters */

.parameters_item > .content h2.heading {
    border-bottom: none;
}

.parameters_item {
}
.parameters_item:before {
    content: none; margin: 0;
}

.parameters_item_group {
    display: table;
    width: 100%;
}
.parameters_item {
    display: table-row;
}
.parameters_item > .label {
    display: table-cell;
    background-color: $label-bg;
    width: 33%;
    padding: 0.5em;
    font-weight: 600;
    text-align: right;
}
.parameters_item > .content {
    display: table-cell;
    background-color: $content-bg;
    padding: 0.5em;
}

.xlarge .parameters_item > .label { width: 20%; }
.large .parameters_item > .label { width: 25%; }
.medium .parameters_item > .label { width: 33%; }
.small .parameters_item > .label { width: 40%; }
.xsmall .parameters_item > .label { width: 50%; }

//.xlarge, .large, .medium, .small {
//    .parameters_item {
//        @include flexbox;
//        @include flex-direction(row);
//        @include align-items(stretch);
//        margin: 0;
//    }
//    .parameters_item > .label {
//        text-align: right;
//        margin: 0 1px 1px 0;
//    }
//    .parameters_item > .content {
//        padding: 0.5em;
//        margin-bottom: 1px;
//    }
//}
//.xlarge .parameters_item {
//    .label { @include flex(0 0 20%); }
//    .content { @include flex(0 0 80%); }
//}
//.large .parameters_item {
//    .label { @include flex(0 0 25%); }
//    .content { @include flex(0 0 75%); }
//}
//.medium .parameters_item {
//    .label { @include flex(0 0 33%); }
//    .content { @include flex(0 0 67%); }
//}
//.small .parameters_item {
//    .label { @include flex(0 0 40%); }
//    .content { @include flex(0 0 60%); }
//}

/* HOM items */

.label.ni {
    text-decoration: line-through;
}

.functions_item_group, .methods_item_group {
    & > .item {
        margin-left: 0;

        & > .label {
            margin-left: 1em;
            text-indent: -1em;
        }
    }
    & > .item:before {
        content: none;
        width: 0;
        float: none;
    }
}

.methods_item_group > .item > .label {
    font-weight: normal;
}
.methods_item_group > .item > .label code {
    background-color: transparent;
}

.superclass-methods {
    margin-top: 1em;
    border-top: 1px dashed #999;
    padding-top: 1em;
}


/* Environment variables */

.item.env_variables_item {
    &:before {
        content: "\f155"; // usd
    }
    & > .label {
        margin-bottom: 0;
    }
    & > .content {
        margin-left: 0;
    }
}


/* Subtopics */

// Subtopics heading

#subtopics-body h2, #toc h2, .search-results h2 {
    font-size: 0.857em;
    font-weight: 300;
    letter-spacing: 0.1em;
    border-bottom: none;
    margin-top: 0; margin-bottom: 0.5em;
    text-transform: uppercase;
    color: $medium-color;
}
#subtopics-body .filtered-body h2 {
    font-weight: normal;
    font-size: 1rem;
    text-transform: inherit;
}

// Subtopics items

.narrow-columns, .columns, .wide-columns {
    ul.subtopics_item_group {
        margin-top: 0;
    }
}

.subtopics_item_group > .item {
    margin-top: 0.25em; margin-bottom: 0.25em;

    -webkit-column-break-inside: avoid;
    page-break-inside: avoid;
    break-inside: avoid-column;

    & > .label {
        margin: 0;
    }

    & > .summary {
        margin-top: 0;
        font-size: 0.786em;
        line-height: 1.1em;
        font-style: normal;

        -webkit-column-break-inside: avoid;
        page-break-inside: avoid;
        break-inside: avoid-column;
    }
}

// Subtopic icons
.subtopic-icon {
    display: none;
    float: left;
    margin-left: -1em;
}
section.show-icons {
    .subtopic-icon {
        display: block;
    }
    .subtopics_item_group > .item > {
        .label, .summary, .content {
            padding-left: 1.5rem;
        }
    }
}

// Set bullet icon for subtopic, container, and here
.subtopics_item_group > .item:before {
    /* content: "\f054"; */ /* chevron-right */
    content: "\f105"; /* angle-right */
    color: #666;
}
.subtopics_item_group > .item.container:before {
    content: "\f114"; /* folder-o */
    /* content: "\f0da"; */ /* carat-right */
    /* content: "\f196"; */ /* plus-square-o */
}
.subtopics_item_group > .item.ancestor:before,
.subtopics_item_group > .item.container.here:before {
    content: "\f07c"; /* folder-open */
    /* content: "\f0d7"; */ /* carat-down */
    /* content: "\f147"; */ /* minus-square-o */
}
.subtopics_item_group > .item.here:before {
    /* content: "\f101"; */ /* angle-double-right */
}

/* TOC */

#toc {
    padding: 0 0.5em;
}

// Styling for current page in the TOC
.subtopics_item_group > .item.here > .label {
    font-weight: bold;
    margin-bottom: 0;
}

.subtopics_item_group > .item > div.content {
    margin-left: 1em;
}

// Don't show summaries in TOC
#toc .summary {
    display: none;
}

// Don't pull headings in TOC
#toc section.pull.heading {
    margin-left: 0;

    & > .label  {
        position: static;
        font-size: 1rem;
        font-weight: 200;
        width: 100%;
        margin: 1em 0 0 0; padding: 0;
    }
}

/* Notices */

.notice {
    margin-top: 0.5em; margin-bottom: 0.5em;
    margin-left: 1.5em;
    padding-left: 0.5em;
}
.notice > .label {
    margin: 0;
    position: relative;
    font-weight: 600;
}
.notice > .label > .notice-glyph {
    position: absolute;
    left: -2em;
    padding-top: 0.3em;
}

.tip, .note, .warning {
    border-left: 1px solid green;
}
.tip {
    border-left-color: palette("green", "bright");
    & > .label { color: palette("green", "bright"); }
}
.note {
    border-left-color: palette("purple", "bright");
    & > .label { color: palette("purple", "bright"); }
}
.warning {
    border-left-color: palette("red", "bright");
    & > .label { color: palette("red", "bright"); }
}

.new > .label { color: palette("yellow", "bright"); }
.changed > .label { color: palette("purple", "bright"); }
.dev > .label { color: #6f9699; }
.fixed > .label { color: palette("green", "bright"); }
.bug > .label { color: palette("orange", "bright"); }

.platform.mac > .label { color: #c00; }
.platform.windows > .label { color: #39c; }
.platform.linux > .label { color: #6633cc; }

.notices > :first-child {
    margin-top: 1em;
}
.notices > :last-child {
    margin-bottom: 1em;
}

/* Billboards */

.billboard {
    position: relative;
    padding: 2em;
    margin: -1em 0 0 -1em;
    width: calc(100% + 2em);
    background-position: center center;
    background-size: cover;
    text-align: right;

    color: white;
    text-shadow: 0 2px 3px rgba(0, 0, 0, 0.75);

    font-weight: 100;

    transition: background-image 0.5s ease-in-out;
    min-height: 30vh;

    h2 {
        font-weight: 800;
        font-size: 3em;
    }
}


/* Sticker */

.sticker {
    display: inline-block;
    position: relative;
    margin: 0 0.75em 0 0;
    padding: 0 0.5em;
    font-size: 0.857em;
    background-color: $label-bg;
    color: $text-color;

    &:before, &:after {
        content: '';
        position: absolute;
        width: 0; height: 0;
        right: 0 - $small-arrow-width;
        top: 0.5em;
        border-right: 0 solid transparent;
        border-left: $small-arrow-width solid $label-bg;
        border-top: $small-arrow-width - 2px solid transparent;
        border-bottom: $small-arrow-width - 2px solid transparent;
    }
}
.sticker.inverted {
    background-color: inherit;
    color: inherit;
}
.sticker.inverted > .label {
    background-color: $inv-bg-color;
    color: $inv-text-color;
    &:before, &:after {
        border-left-color: $inv-bg-color;
    }
}
.sticker.outlined > .label {
    background-color: $bg-color;
    border: 1px solid $border-light-gray;
    color: $text-color;

    &:before, &:after {
        border-left-color: $border-light-gray;
    }
    &:after {
        right: 0 - $small-arrow-width + 2px;
        border-left-color: $bg-color;
    }
}


/* Separator */

.sep {
    position: relative;
    font-size: 0.857em;
    font-weight: 700;
    margin: 1rem 0 1rem 0;
    letter-spacing: 0.05em;
    -webkit-user-select: none;
    height: auto;
    overflow-y: hidden;
    overflow-x: hidden;
    line-height: 1;
    text-align: center;
    clear: both;
}
.sep:not(.titled) {
    border-top: 1px solid rgba(0, 0, 0, 0.0980392);
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}
.titled.sep::before, .titled.sep::after {
    position: absolute;
    content: '';
    z-index: 3;
    width: 50%;
    top: 50%;
    height: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.0980392);
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}
.titled.sep::before {
    margin-left: calc(-50% - 1em);
}
.titled.sep::after {
    margin-left: 1em;
}

/* Filters */

.filter-controls {
    margin: 1em 0;
}
.filter-controls button {
    padding: 0.25em 0.5em;
}

/* Metadata */

.metadata {
    margin: 1em 0;
}
.metadata > .data {
    display: inline-block;
    margin-right: 1em;
}
.metadata > .data > .label {
    font-size: 0.875rem; line-height: 0.875rem;
    color: #aaa;
    font-weight: normal;
    margin-bottom: 0.25rem;
}
.metadata > .data > .content {
    margin-left: 0;
}

.compact.metadata {
    font-size: 0.857em;
    margin: 0.5em 0;
}
.compact.metadata > .data {
    margin-right: 1em;
}
.compact.metadata > .data > .label {
    display: inline-block;
    margin-right: 0.5em;
}
.compact.metadata > .data > .content {
    display: inline-block;
}

.linkboxes > .linkbox {
    display: block;
}
.linkbox {
	margin: 0.25em 0 0.25em 0;

    &.withicon {
        margin-left: 2.5em;
    }

    img {
        margin-left: -2.5em;
        width: 2em; height: 2em;
        vertical-align: middle;
    }
}

/* Collapsible */

.page-toc {
    background-color: rgba(255, 255, 255, 0.05);
    padding-right: 1em;

    & > .label {
        margin-bottom: 0;
    }

    & > .content > li {
        margin: 0; padding: 0 0 0 2.5em;
        list-style: none;

        &:before {
            position: absolute;
            font-family: "FontAwesome";
            font-weight: normal;
            content: "\f105"; // angle-right
            margin-left: -1.25em;
            opacity: 0.5;
        }
    }
}

.collapsible {
    & > .label  {
        cursor: pointer;

        &:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }
    }

    & > .label:before {
        position: relative;
        width: 1rem;
        margin-right: 0.25rem;
        font-family: "FontAwesome";
        font-weight: normal;
        font-size: 1rem;
        content: "\f147"; // minus-square-o
        opacity: 0.5;
    }

    &.collapsed > .label {
        margin-bottom: 0;
    }
    &.collapsed > .label:before {
        font-family: "FontAwesome";
        content: "\f196"; // plus-square-o
    }

    & > .content {
        margin: 0; padding: 0;
    }
    & > .collapsed-content {
        margin-left: 1.5em;
        display: none;
    }
    &.collapsed > .content {
        display: none;
    }
    &.collapsed > .collapsed-content {
        display: block;
    }
}

.collapsed-content {
    font-size: 0.786em;
    opacity: 0.5;
    margin-top: 0;
}

.pull.collapsible.collapsed {
    & > .label {
        float: none;
    }
}

/* Troubleshooting table */

th.if {
    background: repeating-linear-gradient(-45deg,
        #e8e8e8, #e8e8e8 10px,
        #f0f0f0 10px, #f0f0f0 20px
    );
}
td.if {
    background: repeating-linear-gradient(-45deg,
        rgba(0,0,0,0.025), rgba(0,0,0,0.025) 10px, transparent 10px, transparent 20px
    );
}
td.level1, td.level2, td.qual { width: 33.3333%; }
td.unqual { width: 66.6666%; }

/* Examples */

.examples {
    margin: 1em 0;
}

.example {
    background-color: #f8f8f8;
    margin: 1px 0; padding: 0.5em;
    clear: left;

    & > .label {
        margin: 0 0 0 10rem;
        font-weight: bold;
    }
    & > .content {
        font-size: 0.875em;
        margin: 0 0 0 10rem;
    }
}
.inverted .example {
    background-color: #242424;
}

.example-buttons {
    float: left;

    & > button {
        margin: 0;
    }
}
code.example-path {
    background-color: transparent;
    opacity: 0.6;
}
button.launch {
}

/* Charts */

table.chart-table {
    width: 100%;
}
table.chart-table, table.chart-table td {
    border: none;
    padding: 0;
    font-size: 0.875em;
    color: #999;
}
div.chart {
    width: 100%;
    min-width: 4em;
    min-height: 14em;
}
table.chart-table td.top {
    text-align: center; vertical-align: bottom;
}
table.chart-table td.left {
    text-align: right; vertical-align: middle;
    width: 3em;
}
table.chart-table td.left > div, table.chart-table td.right > div {
    position: absolute;
    transform: rotate(-90deg); -webkit-transform: rotate(-90deg);
    transform-origin: 50% 50%; -webkit-transform-origin: 50% 50%;
}
table.chart-table td.right {
    text-align: left; vertical-align: middle;
    width: 3em;
}
table.chart-table td.bottom {
    text-align: center; vertical-align: top;
}

/* Videos */

.video {
    width: 100%;
}

.xlarge .vimeo.video { height: 460px; }
.large .vimeo.video { height: 400px; }
.medium .vimeo.video { height: 320px; }
.small .vimeo.video { height: 280px; }
.xsmall .vimeo.video { height: 240px; }

.vimeo-reference {
    clear: both;
    margin: 1em 0;
    min-height: 75px;

    .thumbnail {
        float: left;
        width: 100px;
        height: 75px;
    }
    .label {
        margin-left: 128px;
        font-size: 1.75em;
        font-weight: 200;
        line-height: 125%;
    }
    .content {
        margin-top: 1em;
        margin-left: 128px;
    }
}

/* Chat bubbles */

.bubbles {
    margin: 1em 0;

    .bubbles {
        margin: ($bubble-arrow-width * 2) 0;
    }
    :first-child {
        margin-top: 0;
    }
    :last-child {
        margin-bottom: 0;
    }
}

.bubble {
    margin: ($bubble-arrow-width * 2) $bubble-arrow-width;
    position: relative;
    height: auto;
    background-color: $tag-bg;
    padding: 0.5em 1em;
    min-height: $bubble-arrow-width * 2;

    &:before, &:after {
        content: '';
        position: absolute;
        width: 0;
        height: 0;
        bottom: auto;
        border: 0 solid $tag-bg;
    }
}
.inverted .bubble, .inverted.bubble {
    background-color: $inv-tag-bg;
    border-radius: 0;

    &:before, &:after {
        border-color: $inv-tag-bg;
    }
}

.bubble > *:first-child {
    margin-top: 0;
}
.bubble > *:last-child {
    margin-bottom: 0;
}

/* Display attributes */

.inverted, .bordered, .raised, .rounded {
    padding: 0.5em 1em;
    border-radius: $large-radius;
}

.inverted {
    background-color: $inv-bg-color;
    color: $inv-text-color;
}
.bordered, .raised { border: 1px solid $border-gray; }
.inverted .bordered, .inverted .raised { border-color: $inv-border-gray; }

.raised {
    box-shadow: 0 2px 3px rgba(0, 0, 0, 0.25);
}

.rounded {
    background-color: palette("gray", "light");
}

// Floats

//.pull {
//    width: 50%;
//    margin-top: 0;
//
//    &.left {
//        float: left;
//        margin-right: 1em;
//    }
//    &.right {
//        float: right;
//        margin-left: 1em;
//    }
//}


// Generate selectors for various design elements in the display colors
@each $color, $tones in $colorvariants {
    $light: map-get($tones, "light");
    $bright: map-get($tones, "bright");
    $dark: map-get($tones, "dark");

    // Light bg for colored standard elements
    .rounded.#{$color}, .bordered.#{$color}, .raised.#{$color}, td.#{$color}  {
        background-color: $light;
    }
    // Inside an inverted parent, switch to dark
    .inverted .#{$color}, .inverted.#{$color},
    .inverted td.#{$color}, td.inverted.#{$color}
    {
        background-color: $dark; color: $inv-text-color;
    }

    // Color borders for bordered and raised styles
    .bordered.#{$color}, .raised.#{color} { border-bottom-color: $bright; }

    // Color notice label
    .notice.#{$color} > .label { color: $bright; }
    // Color definition label
    .def.#{$color} > .label { color: $bright; }

    // Give colored bubbles a light bg
    .bubble.#{$color} {
        background-color: $light;
        &:before, &:after {
            border-color: $light;
            background-color: transparent;
        }
    }
    // Give inverted bubbles and bubbles inside inverted parent dark bg
    .inverted.bubble.#{$color}, .inverted .bubble.#{$color} {
        background-color: $dark;
        &:before, &:after {
            border-color: $dark;
            background-color: transparent;
        }
    }

    // Colored glyphs
    .#{$color} > .g, .fa.#{$color} { color: $bright; }
    .light.#{$color} > .g, .fa.light.#{$color} { color: $light; }
    .dark.#{$color} > .g, .fa.dark.#{$color} { color: $dark; }

    // Separators
    .sep.#{$color} {
        border-bottom-color: $bright;
        color: $bright;
        &.titled:before, &.titled:after {
            border-bottom-color: $bright;
        }
    }

    // Items
    .item.#{$color} > .label { background-color: $light; }
    // Inverted items
    .inverted .item.#{$color} > .label,
    .inverted.item.#{$color} > .label {
        background-color: $dark;
    }

    .label.#{$color} { color: $bright !important; }

    // Stickers
    .inverted.#{$color}.sticker {
        background-color: inherit;
        color: inherit;
    }
    .#{$color}.sticker > .label {
        color: $bright;
    }
}


/* Alternate styling for design elements inside inverted parent */

body.inverted {
    padding: 0;
}

.inverted {
    .parents { color: $inv-medium-color; }

    section.section { border-top-color: $inv-border-gray; }

    h1.title small { color: $inv-medium-color; }
    h1.title .version {
        background-color: $inv-tag-bg;
        color: $inv-tag-fg;
    }

    var {
        border-bottom-color: $inv-border-light-gray;
    }

    .linkbox {
        border-color: $inv-border-light-gray;;
    }

    td.task-desc { background-color: rgba(255, 255, 255, 0.05); }
    td.task-howto { background-color: rgba(255, 255, 255, 0.02); }

    th.if {
        background: repeating-linear-gradient(-45deg,
            #383838, #383838 10px,
            #333 10px, #333 20px
        );
    }
    td.if {
        background: repeating-linear-gradient(-45deg,
            rgba(255,255,255,0.02), rgba(255,255,255,0.02) 10px,
            transparent 10px, transparent 20px
        );
    }

    .notice > .label {
        background-color: $inv-content-bg;
        &:after {
            border-left-color: $inv-content-bg;
        }
    }

    .parameters_item > .label { background-color: $inv-label-bg; }
    .parameters_item > .content { background-color: $inv-content-bg; }
}

.inverted.tip, .inverted.note, .inverted.warning {
    td.g, td.label { background-color: $inv-label-bg; }
    td.content { background-color: $inv-content-bg; }
}
.inverted.parameters_item > .label { background-color: $inv-label-bg; }
.inverted.parameters_item > .content { background-color: $inv-content-bg; }

/* Bubble arrows - these need to go after the colors to override them */

.bubble.left:before {
    left: (0 - $bubble-arrow-width);
    right: auto;
    top: 0;
    border-left: 0 solid transparent !important;
    border-right-width: $bubble-arrow-width!important;
    border-right-style: solid !important;
    border-top: $bubble-arrow-width solid transparent !important;
    border-bottom: $bubble-arrow-width solid transparent !important;
}
.bubble.right:after {
    left: auto;
    top: 0;
    right: (0 - $bubble-arrow-width);
    border-right: 0 solid transparent !important;
    border-left-width: $bubble-arrow-width !important;
    border-left-style: solid !important;
    border-top: $bubble-arrow-width solid transparent !important;
    border-bottom: $bubble-arrow-width solid transparent !important;
}
.bubble.up:before {
    top: (0 - $bubble-arrow-width);
    left: 50%;
    margin-left: (0 - $bubble-arrow-width);
    border-top: 0 solid transparent !important;
    border-bottom-width: $bubble-arrow-width !important;
    border-bottom-style: solid !important;
    border-left: $bubble-arrow-width solid transparent !important;
    border-right: $bubble-arrow-width solid transparent !important;
}
.bubble.down:after {
    margin-top: 0.5em;
    left: 50%;
    margin-left: (0 - $bubble-arrow-width);
    border-bottom: 0 solid transparent !important;
    border-top-width: $bubble-arrow-width !important;
    border-top-style: solid !important;
    border-left: $bubble-arrow-width solid transparent !important;
    border-right: $bubble-arrow-width solid transparent !important;
}

/* Tabs */

.tab-group {
    position: relative;
    margin: 1em auto;
    clear: both;

    .tab-heading {
        & > .label {
            font-size: 0.857em;
            position: relative;
            display: inline-block;
            color: $tab-fg;
            background-color: $tab-bg;
            margin: 0 1px 0 1px;
            padding: 0.1rem 0.75rem;
            cursor: pointer;
        }
        & > .label.selected {
            background-color: $tab-selected-bg;
            color: $tab-selected-fg;
        }
        & > .label.selected:after {
            content: '';
            position: absolute;
            width: 0;
            height: 0;
            bottom: auto;
            left: 50%;
            margin-left: (0 - $small-arrow-width);
            margin-top: 1.6rem;
            border: $small-arrow-width solid transparent;
            border-top-color: $tab-selected-bg;
            border-bottom-width: 0;
        }
    }
    .tab-bodies {
        border: 1px solid $border-light-gray;
        padding: 1em 0.5em 0.5em 0.5em;

        & > .content {
            display: none;
        }
        & > .content.selected {
            display: block;
        }
    }
}

.inverted .tab-group {
    & > .tab-heading {
        & > .label:not(.selected) {
            background-color: $inv-tab-bg;
        }
        & > .label.selected {
            background-color: $inv-selected-tab-bg;
            color: $inv-selected-tab-fg;
        }
        & > .label.selected:after {
            border-top-color: $inv-selected-tab-bg;
        }
    }
}

.hitlist.narrow-columns .filtered-body {
    column-width: 10em;
}
.hitlist.columns .filtered-body {
    column-width: 14em;
}
.hitlist.wide-columns .filtered-body {
    column-width: 18em;
}

// Code

.code-container {
    margin: 1em 0;
}

pre {
    margin: 0;
    padding: 0.5em;
    background-color: $pre-bg;
}
.inverted pre, pre.inverted, .inverted code {
    background-color: $inv-pre-bg;
}

// Bits

.bit.beta {
    font-size: 0.714rem;
    padding: 0.1rem 0.25rem;
    border: 1px solid #c00;
    color: #c00;;
    border-radius: $small-radius;
    text-transform: uppercase;
    vertical-align: super;
}

// Folds

.fold-button, .fold-return {
    font-size: 0.714rem;
    font-weight: bold;
    vertical-align: super;
    cursor: pointer;
    color: $link-color;
}

.fold-button {
    padding: 0.1rem 0.25rem;
    background-color: $tag-bg;
    border-radius: $small-radius;
}

input.fold-state {
    position: absolute;
    left: -9999px;
}

.fold-target {
    display: none;
    margin-left: 2em;
}
input.fold-state:checked + .fold-target {
    display: block;
}

.fold-return {
    background-color: transparent;
    float: left;
    padding: 0;
    margin-left: -2em;
}



